define(["require","exports","tslib","esignature/data/store","esignature_prototype/data/store","esignature/public/utils","react","modules/clean/react/file_viewer/file_viewer","modules/clean/open_in_app/actions","modules/clean/sharing/async_share_modal_util","modules/clean/viewer","modules/clean/react/file_viewer/data/store","modules/clean/web_timing_logger","modules/clean/react/modal","esignature_prototype/components/esignature_utility_modals","modules/clean/react/app_actions/data/store"],function(e,r,t,a,s,n,i,o,l,d,p,u,c,m,_,f){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),i=t.__importDefault(i);var g=(function(r){function g(e){var t=r.call(this,e)||this,o=p.Viewer.get_viewer(),l=e.userId?o.get_user_by_id(e.userId):o.work_user||o.personal_user;t.state={user:l},c.log_js_modules_application_code_start(),n.registerEsignatureData(e.esignatureToken);var d=e.file,g=u.getStoreForFileViewer();return u.hydrateFileViewerNamespace(g,{file:d}),t.props.eSigInfo&&(t.props.eSigInfo.expired?m.Modal.showInstance(i.default.createElement(_.EsignatureExpiredModalRecipient,{sender:t.props.eSigInfo.sender,date:t.props.eSigInfo.date})):t.props.eSigInfo.corrupted?m.Modal.showInstance(i.default.createElement(_.EsignatureCorruptedModal,null)):s.hydrateEsignaturePrototypeNamespace(g,t.props.eSigInfo)),a.hydrateEsignatureNamespaceForGuest(g,e.esignatureToken),l&&f.hydrateExtensionsNamespace(g,[d],l),t}return t.__extends(g,r),g.prototype.componentDidMount=function(){var r=this,a=this.props.shareEmail;if(a&&this.state.user&&new Promise(function(r,t){e(["modules/clean/react/browse/models"],r,t)}).then(t.__importStar).then(function(e){var t=e.File;d.asyncShowPrefilledShareModal({user:r.state.user,sharePrefillEmail:a,content:new t(r.props.file)})}),this.props.openImmediatelyInApp){var s=this.props.file;l.openImmediately(s.open_in_app_data)}},g.prototype.render=function(){var e=this.props,r=e.fileViewerProps,a=e.onCloseUrl,s=e.isEmbedded,n=e.sharedLinkInfo,l=e.shareToken,d=e.sharePermission,p=i.default.createElement(o.FileViewer,t.__assign({},r,{fileCount:1,fileIndex:0,titleBarCloseUrl:a,sharedLinkInfo:n,shareToken:l,sharePermission:d,user:this.state.user,transparentBackground:!0}));return s?i.default.createElement("div",{className:"embedded"},p):p},g})(i.default.Component);r.FileViewerContainer=g});
//# sourceMappingURL=container.min.js-vflMoBrWQ.map