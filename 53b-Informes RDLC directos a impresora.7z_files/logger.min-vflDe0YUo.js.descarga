define(["require","exports","tslib","modules/clean/ajax"],function(t,e,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i=r.__importStar(i);var n=(function(){var t=void 0,e=void 0;return n=(function(){function r(){}return r.initClass=function(){var r=this;this.start_times={},this.DEFAULT_TIMER_NAME="view_time",this.get_timer_name=function(t){return null==t||"boolean"==typeof t?r.DEFAULT_TIMER_NAME:t},this.set_start_time=function(t){var e=r.get_timer_name(t);return r.start_times[e]=Date.now()},this.do_log_view_time=function(t,e){var i=r.get_timer_name(e);return t[i]=Math.round((Date.now()-r.start_times[i])/1e3)},t={},e=[5,15,60,120,300],this.log=function(t,e,n,a){switch(void 0===a&&(a=!1),n=n||{},t){case"paywall_device_limit":return a&&r.do_log_view_time(n,a),i.SilentBackgroundRequest({url:"/growth_paywall_device_limit_log",data:{evt:e,extra:JSON.stringify(n)}});case"paywall_shared_folder":return a&&r.do_log_view_time(n,a),i.SilentBackgroundRequest({url:"/growth_paywall_shared_folder_log",data:{evt:e,extra:JSON.stringify(n)}});case"onboarding":return a&&r.do_log_view_time(n,a),i.SilentBackgroundRequest({url:"/growth_onboarding_log",data:{evt:e,extra:JSON.stringify(n)}});case"onboarding_server_view_experiments":return a&&r.do_log_view_time(n,a),i.SilentBackgroundRequest({url:"/uj_server_view_experiments_log",data:{evt:e,extra:JSON.stringify(n)}});case"sharing":return r.do_log_view_time(n),i.SilentBackgroundRequest({url:"/growth_sharing_log",data:{evt:e,extra:JSON.stringify(n)}});case"post_client_install_tab":return a&&r.do_log_view_time(n,a),i.SilentBackgroundRequest({url:"/growth_post_client_install_tab_log",data:{evt:e,extra:JSON.stringify(n)}});case"secondary_client_link":return a&&r.do_log_view_time(n,a),i.SilentBackgroundRequest({url:"/secondary_client_link_upsell_log",data:{evt:e,extra:JSON.stringify(n)}});case"plus_account_sharing":return a&&r.do_log_view_time(n,a),i.SilentBackgroundRequest({url:"/plus_account_sharing_upsell_log",data:{evt:e,extra:JSON.stringify(n)}});default:throw new Error("Invalid series name")}}},r.start_counter=function(r,i){return Array.from(e).map(function(e){return(function(e){return t[r+e]=setTimeout(function(){return i(r,{time_since_first_view:e})},1e3*e)})(e)})},r.stop_counter=function(r){return Array.from(e).map(function(e){return clearTimeout(t[r+e])})},r})(),n.initClass(),n})();e.default=n});
//# sourceMappingURL=logger.min.js-vflpc7iK1.map